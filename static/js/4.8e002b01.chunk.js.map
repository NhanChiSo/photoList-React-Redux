{"version":3,"sources":["components/Banner/index.jsx","constants/images.js","assets/images/orange-bg.jpg","assets/images/blue-bg.jpg","assets/images/colorful-bg.jpg","assets/images/pink-bg.jpg","features/Photo/components/PhotoCard/index.jsx","features/Photo/components/PhotoList/index.jsx","features/Photo/components/PhotoSearch/index.jsx","constants/global.js","features/Photo/pages/Main/index.jsx","custom-fields/InputField/index.jsx","custom-fields/SelectField/index.jsx","components/RandomPhoto/index.jsx","custom-fields/RandomPhotoField/index.jsx","features/Photo/components/PhotoForm/index.jsx","features/Photo/pages/AddEdit/index.jsx","utils/common.js","features/Photo/index.jsx"],"names":["Banner","props","title","backgroundUrl","bannerStyle","backgroundImage","className","style","defaultProps","Images","ORANGE_BG","BLUE_BG","COLORFUL_BG","PINK_BG","PhotoCard","photo","onEditClick","onRemoveClick","src","alt","Button","outline","size","color","onClick","PhotoList","photoList","onPhotoEditClick","onPhotoRemoveClick","Row","map","Col","xs","md","lg","PhotoSearch","category","handleClick","value","label","PHOTO_CATEGORY_OPTIONS","MainPage","dispatch","useDispatch","photos","useSelector","state","history","useHistory","list","handleSearch","e","searchText","target","action","searchPhoto","handleSearchCategory","btnCategory","document","querySelectorAll","i","length","classList","remove","add","searchCategory","filter","Container","Input","type","name","placeholder","onChange","to","console","log","editPhotoUrl","id","push","removePhotoId","removePhoto","InputField","field","form","disabled","errors","touched","showError","FormGroup","Label","for","invalid","component","FormFeedback","SelectField","options","selectedOption","find","option","selectedValue","changeEvent","isDisabled","RandomPhoto","imageUrl","onImageUrlChange","onRandomButtonBlur","getRandomImageUrl","randomId","Math","trunc","random","handleRandomPhotoClick","a","randomImageUrl","onBlur","onError","RandomPhotoField","newImageUrl","setFieldValue","PhotoForm","initialValues","isAddMode","validationSchema","Yup","shape","required","categoryId","nullable","when","is","then","otherwise","notRequired","onSubmit","formikProps","values","isSubmitting","Spinner","AddEditPage","photoId","useParams","editedPhoto","x","Promise","resolve","setTimeout","newPhoto","min","max","addPhoto","updatePhoto","Photo","match","useRouteMatch","exact","path","url","NotFound"],"mappings":"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","file":"static/js/4.8e002b01.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport \"./Banner.scss\";\r\n\r\nBanner.propTypes = {\r\n  title: PropTypes.string,\r\n  backgroundUrl: PropTypes.string,\r\n};\r\n\r\nBanner.defaultProps = {\r\n  title: \"\",\r\n  backgroundUrl: \"\",\r\n};\r\n\r\nfunction Banner(props) {\r\n  const { title, backgroundUrl } = props;\r\n\r\n  const bannerStyle = backgroundUrl\r\n    ? { backgroundImage: `url(${backgroundUrl})` }\r\n    : {};\r\n\r\n  return (\r\n    <section className=\"banner\" style={bannerStyle}>\r\n      <h1 className=\"banner__title\">{title}</h1>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Banner;\r\n","import orangeBackground from \"../assets/images/orange-bg.jpg\";\r\nimport blueBackground from \"../assets/images/blue-bg.jpg\";\r\nimport colorfulBackground from \"../assets/images/colorful-bg.jpg\";\r\nimport pinkBackground from \"../assets/images/pink-bg.jpg\";\r\n\r\nconst Images = {\r\n  ORANGE_BG: orangeBackground,\r\n  BLUE_BG: blueBackground,\r\n  COLORFUL_BG: colorfulBackground,\r\n  PINK_BG: pinkBackground,\r\n};\r\n\r\nexport default Images;\r\n","export default __webpack_public_path__ + \"static/media/orange-bg.a98c2734.jpg\";","export default __webpack_public_path__ + \"static/media/blue-bg.93b683dc.jpg\";","export default __webpack_public_path__ + \"static/media/colorful-bg.95c0fb34.jpg\";","export default __webpack_public_path__ + \"static/media/pink-bg.d6dafc0a.jpg\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport './PhotoCard.scss';\r\n\r\nPhotoCard.propTypes = {\r\n  photo: PropTypes.object,\r\n  onEditClick: PropTypes.func,\r\n  onRemoveClick: PropTypes.func,\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  photo: [],\r\n  onEditClick: null,\r\n  onRemoveClick: null,\r\n}\r\n\r\nfunction PhotoCard(props) {\r\n  const { photo, onEditClick, onRemoveClick } = props;\r\n\r\n  const handleEditClick = () => {\r\n    if (onEditClick) onEditClick(photo);\r\n  }\r\n\r\n  const handleRemoveClick = () => {\r\n    if (onRemoveClick) onRemoveClick(photo);\r\n  }\r\n\r\n  return (\r\n    <div className=\"photo\">\r\n      <img src={photo.photo} alt={photo.title} />\r\n\r\n      <div className=\"photo__overlay\">\r\n        <h3 className=\"photo__title\">{photo.title}</h3>\r\n\r\n        <div className=\"photo__actions\">\r\n          <div>\r\n            <Button outline size=\"sm\" color=\"light\" onClick={handleEditClick}>\r\n              Edit\r\n            </Button>\r\n          </div>\r\n\r\n          <div>\r\n            <Button outline size=\"sm\" color=\"danger\" onClick={handleRemoveClick}>\r\n              Remove\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PhotoCard from '../PhotoCard';\r\n\r\nPhotoList.propTypes = {\r\n  photoList: PropTypes.array,\r\n  onPhotoEditClick: PropTypes.func,\r\n  onPhotoRemoveClick: PropTypes.func,\r\n};\r\n\r\nPhotoList.defaultProps = {\r\n  photoList: [],\r\n  onPhotoEditClick: null,\r\n  onPhotoRemoveClick: null,\r\n};\r\n\r\nfunction PhotoList(props) {\r\n  const { photoList, onPhotoEditClick, onPhotoRemoveClick } = props;\r\n  return (\r\n    <Row>\r\n      {photoList.map(photo => (\r\n        <Col key={photo.title} xs=\"12\" md=\"6\" lg=\"3\">\r\n          <PhotoCard\r\n            photo={photo}\r\n            onEditClick={onPhotoEditClick}\r\n            onRemoveClick={onPhotoRemoveClick}\r\n          />\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PhotoList;","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\n\r\nfunction PhotoSearch(props) {\r\n  const { category, handleClick } = props;\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        value={category.value}\r\n        onClick={handleClick}\r\n        className=\"ml-3 mb-3 btn-warning\"\r\n      >\r\n        {category.label}\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PhotoSearch;\r\n","// options của Select form\r\nexport const PHOTO_CATEGORY_OPTIONS = [\r\n  { value: 1, label: \"Technology\" },\r\n  { value: 2, label: \"Education\" },\r\n  { value: 3, label: \"Nature\" },\r\n  { value: 4, label: \"Animals\" },\r\n  { value: 5, label: \"Styles\" },\r\n];\r\n","import Banner from \"components/Banner\";\r\nimport Images from \"constants/images\";\r\nimport PhotoList from \"features/Photo/components/PhotoList\";\r\nimport PhotoSearch from \"features/Photo/components/PhotoSearch\";\r\nimport {\r\n  removePhoto,\r\n  searchCategory,\r\n  searchPhoto,\r\n} from \"features/Photo/photoSlice\";\r\nimport React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Button, Col, Container, Input, Row } from \"reactstrap\";\r\nimport \"./MainPage.scss\";\r\nimport { PHOTO_CATEGORY_OPTIONS } from \"constants/global\";\r\n\r\nfunction MainPage() {\r\n  const dispatch = useDispatch();\r\n  const photos = useSelector((state) => state.photos);\r\n  const history = useHistory();\r\n  var list = photos.list;\r\n\r\n  const handlePhotoEditClick = (photo) => {\r\n    const editPhotoUrl = `/photos/${photo.id}`;\r\n    history.push(editPhotoUrl);\r\n  };\r\n\r\n  const handlePhotoRemoveClick = (photo) => {\r\n    const removePhotoId = photo.id;\r\n    const action = removePhoto(removePhotoId);\r\n    dispatch(action);\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    const searchText = e.target.value;\r\n    const action = searchPhoto(searchText);\r\n    dispatch(action);\r\n  };\r\n\r\n  const handleSearchCategory = (e) => {\r\n    var btnCategory = document.querySelectorAll(\".category-search > button\");\r\n    for (let i = 0; i < btnCategory.length; i++) {\r\n      btnCategory[i].classList.remove(\"active\");\r\n    }\r\n    e.target.classList.add(\"active\");\r\n\r\n    const action = searchCategory(e.target.value);\r\n    dispatch(action);\r\n  };\r\n\r\n  if (handleSearch || handleSearchCategory) {\r\n    if (photos.searchText !== \"\" || photos.category !== \"0\") {\r\n      list = photos.filter;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"photo-main\">\r\n      <Banner title=\"Your awesome photos 🎉\" backgroundUrl={Images.PINK_BG} />\r\n\r\n      <Container className=\"text-center\">\r\n        <Row className=\"mb-3\">\r\n          <Col xs=\"12\" md=\"6\" className=\"mt-3\">\r\n            <Input\r\n              value={photos.searchText}\r\n              type=\"text\"\r\n              name=\"search\"\r\n              placeholder=\" 🔍 Search by description\"\r\n              onChange={handleSearch}\r\n            />\r\n          </Col>\r\n          <Col xs=\"12\" md=\"6\" className=\"mt-3\">\r\n            <Button color=\"primary\">\r\n              <Link to=\"/photos/add\">Add new photo</Link>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"category-search\">\r\n          <Button\r\n            value=\"0\"\r\n            onClick={handleSearchCategory}\r\n            className=\"ml-3 mb-3 btn-warning active\"\r\n          >\r\n            All\r\n          </Button>\r\n          {PHOTO_CATEGORY_OPTIONS.map((category) => (\r\n            <PhotoSearch\r\n              category={category}\r\n              handleClick={handleSearchCategory}\r\n            />\r\n          ))}\r\n        </Row>\r\n        {console.log(photos)}\r\n        <PhotoList\r\n          photoList={list}\r\n          onPhotoEditClick={handlePhotoEditClick}\r\n          onPhotoRemoveClick={handlePhotoRemoveClick}\r\n        />\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MainPage;\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { FormGroup, Input, Label, FormFeedback } from 'reactstrap';\r\nimport { ErrorMessage } from 'formik';\r\n\r\nInputField.propTypes = {\r\n  field: PropTypes.object.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n\r\n  type: PropTypes.string,\r\n  label: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nInputField.defaultProps = {\r\n  type: \"text\",\r\n  label: \"\",\r\n  placeholder: \"\",\r\n  disabled: false,\r\n};\r\n\r\nfunction InputField(props) {\r\n  const { field, form, type, label, placeholder, disabled } = props;\r\n  const { name } = field;\r\n\r\n  // Show Error\r\n  const { errors, touched } = form;\r\n  const showError = errors[name] && touched[name];\r\n\r\n  return (\r\n    <FormGroup>\r\n      {label && <Label for={name}>{label}</Label>}\r\n\r\n      <Input\r\n        id={name}\r\n        {...field}\r\n        type={type}\r\n        disabled={disabled}\r\n        placeholder={placeholder}\r\n\r\n        invalid={showError} \r\n      />\r\n    {/* Bắt buộc phải có invalid để dùng ErrorMessage */}\r\n    <ErrorMessage name={name} component={FormFeedback} />\r\n    </FormGroup>\r\n  );\r\n}\r\n\r\nexport default InputField;\r\n","import PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport Select from 'react-select';\r\nimport { FormFeedback, FormGroup, Label } from 'reactstrap';\r\nimport { ErrorMessage } from 'formik';\r\n\r\nSelectField.propTypes = {\r\n  field: PropTypes.object.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n\r\n  label: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  options: PropTypes.array,\r\n};\r\n\r\nSelectField.defaultProps = {\r\n  label: '',\r\n  placeholder: '',\r\n  disabled: false,\r\n  options: [],\r\n}\r\n\r\nfunction SelectField(props) {\r\n  const { field, form, options, label, placeholder, disabled } = props;\r\n  const { name, value } = field;\r\n  const selectedOption = options.find(option => option.value === value);\r\n\r\n  // Show Error\r\n  const { errors, touched } = form;\r\n  const showError = errors[name] && touched[name];\r\n\r\n  const handleSelectedOptionChange = (selectedOption) => {\r\n    const selectedValue = selectedOption ? selectedOption.value : selectedOption;\r\n\r\n    const changeEvent = {\r\n      target: {\r\n        name: name,\r\n        value: selectedValue\r\n      }\r\n    };\r\n    field.onChange(changeEvent);\r\n  }\r\n\r\n  return (\r\n    <FormGroup>\r\n      {label && <Label for={name}>{label}</Label>}\r\n\r\n      <Select\r\n        id={name}\r\n        {...field}\r\n        value={selectedOption}\r\n        onChange={handleSelectedOptionChange}\r\n\r\n        placeholder={placeholder}\r\n        isDisabled={disabled}\r\n        options={options}\r\n\r\n        className={showError ? 'is-invalid' : ''}\r\n      />\r\n    {/* cần class is-invalid cho Select  */}\r\n    <ErrorMessage name={name} component={FormFeedback} />\r\n    </FormGroup>\r\n  );\r\n}\r\n\r\nexport default SelectField;","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport \"./RandomPhoto.scss\";\r\n\r\nRandomPhoto.propTypes = {\r\n  name: PropTypes.string,\r\n  imageUrl: PropTypes.string,\r\n  onImageUrlChange: PropTypes.func,\r\n  onRandomButtonBlur: PropTypes.func,\r\n};\r\n\r\nRandomPhoto.defaultProps = {\r\n  name: \"\",\r\n  imageUrl: \"\",\r\n  onImageUrlChange: null,\r\n  onRandomButtonBlur: null,\r\n};\r\n\r\nconst getRandomImageUrl = () => {\r\n  const randomId = Math.trunc(Math.random() * 2000);\r\n  return `https://picsum.photos/id/${randomId}/300/300`;\r\n};\r\n\r\nfunction RandomPhoto(props) {\r\n  const { name, imageUrl, onImageUrlChange, onRandomButtonBlur } = props;\r\n\r\n  const handleRandomPhotoClick = async () => {\r\n    if (onImageUrlChange) {\r\n      const randomImageUrl = getRandomImageUrl();\r\n      onImageUrlChange(randomImageUrl);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"random-photo\">\r\n      <div className=\"random-photo__button\">\r\n        <Button\r\n          outline\r\n          name={name}\r\n          color=\"primary\"\r\n          onBlur={onRandomButtonBlur}\r\n          onClick={handleRandomPhotoClick}\r\n        >\r\n          Random a photo\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"random-photo__photo\">\r\n        {imageUrl && (\r\n          <img\r\n            src={imageUrl}\r\n            alt=\"Ooops ... not found. Please click random again!\"\r\n            onError={(e) => (e.target.src = handleRandomPhotoClick())}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RandomPhoto;\r\n","import RandomPhoto from 'components/RandomPhoto';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { FormFeedback, FormGroup, Label } from 'reactstrap';\r\nimport { ErrorMessage } from 'formik';\r\n\r\nRandomPhotoField.propTypes = {\r\n  field: PropTypes.object.isRequired,\r\n  form: PropTypes.object.isRequired,\r\n\r\n  label: PropTypes.string,\r\n};\r\n\r\nRandomPhotoField.defaultProps = {\r\n  label: '',\r\n}\r\n\r\nfunction RandomPhotoField(props) {\r\n  const { field, form, label } = props;\r\n  const { name, value, onBlur } = field;\r\n\r\n  // Show Error\r\n  const { errors, touched } = form;\r\n  const showError = errors[name] && touched[name];\r\n\r\n  const handleImageUrlChange = (newImageUrl) => {\r\n    form.setFieldValue(name, newImageUrl)\r\n  }\r\n\r\n  return (\r\n    <FormGroup>\r\n      {label && <Label for={name}>{label}</Label>}\r\n\r\n      <RandomPhoto\r\n        name={name}\r\n        imageUrl={value}\r\n        onImageUrlChange={handleImageUrlChange}\r\n        onRandomButtonBlur={onBlur}\r\n      />\r\n\r\n      {/* input mới hỗ trợ invalid nên cần div để fake */}\r\n      <div className={showError ? 'is-invalid' : ''}></div>\r\n      <ErrorMessage name={name} component={FormFeedback} />\r\n    </FormGroup>\r\n  );\r\n}\r\n\r\nexport default RandomPhotoField;","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Button, FormGroup, Spinner } from \"reactstrap\";\r\nimport { PHOTO_CATEGORY_OPTIONS } from \"constants/global\";\r\nimport { FastField, Formik, Form } from \"formik\";\r\nimport InputField from \"custom-fields/InputField\";\r\nimport SelectField from \"custom-fields/SelectField\";\r\nimport RandomPhotoField from \"custom-fields/RandomPhotoField\";\r\nimport * as Yup from 'yup';\r\n\r\nPhotoForm.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nPhotoForm.defaultProps = {\r\n  onSubmit: null,\r\n};\r\n\r\nfunction PhotoForm(props) {\r\n\r\n  const { initialValues, isAddMode } = props;\r\n\r\n  const validationSchema = Yup.object().shape({\r\n    title: Yup.string().required('This field is required.'),\r\n\r\n    categoryId: Yup.number()\r\n      .required('This field is required.')\r\n      .nullable(),\r\n\r\n    // chỉ yêu cầu với id = 1 còn lại ko cần\r\n    photo: Yup.string().when('categoryId', {\r\n      is: 1,\r\n      then: Yup.string().required('This field is required.'),\r\n      otherwise: Yup.string().notRequired(),\r\n    })\r\n  });\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValues}\r\n      validationSchema={validationSchema}\r\n      onSubmit={props.onSubmit}\r\n    >\r\n      {(formikProps) => {\r\n        const { values, errors, touched, isSubmitting } = formikProps;\r\n\r\n        return (\r\n          <Form>\r\n            <FastField\r\n              name=\"title\"\r\n              component={InputField}\r\n              label=\"Title\"\r\n              placeholder=\"Eg: Wow nature ...\"\r\n            />\r\n\r\n            <FastField\r\n              name=\"categoryId\"\r\n              component={SelectField}\r\n              label=\"Category\"\r\n              placeholder=\"What's your photo category?\"\r\n              options={PHOTO_CATEGORY_OPTIONS}\r\n            />\r\n\r\n            <FastField\r\n              name=\"photo\"\r\n              component={RandomPhotoField}\r\n              label=\"Photo\"\r\n            />\r\n\r\n            <FormGroup>\r\n              <Button type=\"submit\" color={isAddMode ? 'primary' : 'success'}>\r\n                {isSubmitting && <Spinner size=\"sm\"/>}\r\n                {isAddMode ? 'Add to album' : 'Update your photo'}\r\n              </Button>\r\n            </FormGroup>\r\n          </Form>\r\n        );\r\n      }}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default PhotoForm;\r\n","import React from \"react\";\r\nimport Banner from \"components/Banner\";\r\nimport PhotoForm from \"../../components/PhotoForm\";\r\nimport \"./styles.scss\";\r\nimport { addPhoto, updatePhoto } from 'features/Photo/photoSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { randomNumber } from 'utils/common';\r\n\r\nfunction AddEditPage(props) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { photoId } = useParams();\r\n  const isAddMode = !photoId;\r\n\r\n\r\n  const editedPhoto = useSelector(state => {\r\n    const foundPhoto = state.photos.list.find(x => x.id === +photoId);\r\n    return foundPhoto;\r\n  });\r\n  console.log({ photoId, editedPhoto })\r\n\r\n  const initialValues = isAddMode\r\n    ? {\r\n      title: '',\r\n      categoryId: null,\r\n      photo: '',\r\n    }\r\n    : editedPhoto;\r\n\r\n  const handleSubmit = (values) => {\r\n    // fake API đợi 2s\r\n    return new Promise((resolve) => {\r\n      setTimeout(() => {\r\n        if (isAddMode) {\r\n          const newPhoto = {\r\n            ...values,\r\n            id: randomNumber(10000, 99999),\r\n          }\r\n          const action = addPhoto(newPhoto);\r\n          console.log({ action });\r\n          dispatch(action);\r\n        } else {\r\n          // Do something here\r\n          const action = updatePhoto(values);\r\n          dispatch(action);\r\n        }\r\n        // redirect vào url /photos\r\n        history.push(\"/photos\");\r\n        resolve(true);\r\n      }, 2000);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"photo-edit\">\r\n      <Banner title=\"Pick your amazing photo 😎\" />\r\n\r\n      <div className=\"photo-edit__form\">\r\n        <PhotoForm \r\n          isAddMode={isAddMode}\r\n          initialValues={initialValues} \r\n          onSubmit={handleSubmit} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddEditPage;\r\n","export const randomNumber = (min, max) => {\r\n  return min + Math.trunc(Math.random() * (max - min));\r\n};\r\n","import React from 'react'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\nimport NotFound from '../../components/NotFound';\r\nimport MainPage from './pages/Main';\r\nimport AddEditPage from './pages/AddEdit';\r\n\r\nfunction Photo(props) {\r\n    // Hook này sẽ trả về url của thằng cha (ở đây là /photos)\r\n    const match = useRouteMatch();\r\n\r\n    return (\r\n        <Switch>\r\n            <Route exact path={match.url} component={MainPage} />\r\n            <Route path={`${match.url}/add`} component={AddEditPage} />\r\n            <Route path={`${match.url}/:photoId`} component={AddEditPage} />\r\n\r\n            <Route component={NotFound}/>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Photo\r\n"],"sourceRoot":""}
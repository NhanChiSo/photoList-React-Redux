(this["webpackJsonpredux-beginner"]=this["webpackJsonpredux-beginner"]||[]).push([[4],{177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},193:function(e,t,a){},296:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);a(2);var o=a(11),n=a(58),c=(a(177),a(6));function r(e){var t=e.title,a=e.backgroundUrl,o=a?{backgroundImage:"url(".concat(a,")")}:{};return Object(c.jsx)("section",{className:"banner",style:o,children:Object(c.jsx)("h1",{className:"banner__title",children:t})})}r.defaultProps={title:"",backgroundUrl:""};var l=r,i={ORANGE_BG:a.p+"static/media/orange-bg.a98c2734.jpg",BLUE_BG:a.p+"static/media/blue-bg.93b683dc.jpg",COLORFUL_BG:a.p+"static/media/colorful-bg.95c0fb34.jpg",PINK_BG:a.p+"static/media/pink-bg.d6dafc0a.jpg"},s=a(122),d=a(123),u=a(299);a(178);function j(e){var t=e.photo,a=e.onEditClick,o=e.onRemoveClick;return Object(c.jsxs)("div",{className:"photo",children:[Object(c.jsx)("img",{src:t.photo,alt:t.title}),Object(c.jsxs)("div",{className:"photo__overlay",children:[Object(c.jsx)("h3",{className:"photo__title",children:t.title}),Object(c.jsxs)("div",{className:"photo__actions",children:[Object(c.jsx)("div",{children:Object(c.jsx)(u.a,{outline:!0,size:"sm",color:"light",onClick:function(){a&&a(t)},children:"Edit"})}),Object(c.jsx)("div",{children:Object(c.jsx)(u.a,{outline:!0,size:"sm",color:"danger",onClick:function(){o&&o(t)},children:"Remove"})})]})]})]})}j.defaultProps={photo:[],onEditClick:null,onRemoveClick:null};var b=j;function h(e){var t=e.photoList,a=e.onPhotoEditClick,o=e.onPhotoRemoveClick;return Object(c.jsx)(s.a,{children:t.map((function(e){return Object(c.jsx)(d.a,{xs:"12",md:"6",lg:"3",children:Object(c.jsx)(b,{photo:e,onEditClick:a,onRemoveClick:o})},e.title)}))})}h.defaultProps={photoList:[],onPhotoEditClick:null,onPhotoRemoveClick:null};var m=h;var p=function(e){var t=e.category,a=e.handleClick;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(u.a,{value:t.value,onClick:a,className:"ml-3 mb-3 btn-warning",children:t.label})})},O=a(44),v=a(32),x=a(29),f=a(121),g=a(300),k=(a(179),[{value:1,label:"Technology"},{value:2,label:"Education"},{value:3,label:"Nature"},{value:4,label:"Animals"},{value:5,label:"Styles"}]);var y=function(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.photos})),a=Object(o.g)(),n=t.list,r=function(t){var a=t.target.value,o=Object(O.e)(a);e(o)},j=function(t){for(var a=document.querySelectorAll(".category-search > button"),o=0;o<a.length;o++)a[o].classList.remove("active");t.target.classList.add("active");var n=Object(O.d)(t.target.value);e(n)};return(r||j)&&(""===t.searchText&&"0"===t.category||(n=t.filter)),Object(c.jsxs)("div",{className:"photo-main",children:[Object(c.jsx)(l,{title:"Your awesome photos \ud83c\udf89",backgroundUrl:i.PINK_BG}),Object(c.jsxs)(f.a,{className:"text-center",children:[Object(c.jsxs)(s.a,{className:"mb-3",children:[Object(c.jsx)(d.a,{xs:"12",md:"6",className:"mt-3",children:Object(c.jsx)(g.a,{value:t.searchText,type:"text",name:"search",placeholder:" \ud83d\udd0d Search by description",onChange:r})}),Object(c.jsx)(d.a,{xs:"12",md:"6",className:"mt-3",children:Object(c.jsx)(u.a,{color:"primary",children:Object(c.jsx)(x.b,{to:"/photos/add",children:"Add new photo"})})})]}),Object(c.jsxs)(s.a,{className:"category-search",children:[Object(c.jsx)(u.a,{value:"0",onClick:j,className:"ml-3 mb-3 btn-warning active",children:"All"}),k.map((function(e){return Object(c.jsx)(p,{category:e,handleClick:j})}))]}),console.log(t),Object(c.jsx)(m,{photoList:n,onPhotoEditClick:function(e){var t="/photos/".concat(e.id);a.push(t)},onPhotoRemoveClick:function(t){var a=t.id,o=Object(O.c)(a);e(o)}})]})]})},C=a(22),N=a(301),P=a(304),_=a(138),B=a(302),R=a(303);function I(e){var t=e.field,a=e.form,o=e.type,n=e.label,r=e.placeholder,l=e.disabled,i=t.name,s=a.errors,d=a.touched,u=s[i]&&d[i];return Object(c.jsxs)(N.a,{children:[n&&Object(c.jsx)(B.a,{for:i,children:n}),Object(c.jsx)(g.a,Object(C.a)(Object(C.a)({id:i},t),{},{type:o,disabled:l,placeholder:r,invalid:u})),Object(c.jsx)(_.a,{name:i,component:R.a})]})}I.defaultProps={type:"text",label:"",placeholder:"",disabled:!1};var w=I,E=a(298);function U(e){var t=e.field,a=e.form,o=e.options,n=e.label,r=e.placeholder,l=e.disabled,i=t.name,s=t.value,d=o.find((function(e){return e.value===s})),u=a.errors,j=a.touched,b=u[i]&&j[i];return Object(c.jsxs)(N.a,{children:[n&&Object(c.jsx)(B.a,{for:i,children:n}),Object(c.jsx)(E.a,Object(C.a)(Object(C.a)({id:i},t),{},{value:d,onChange:function(e){var a=e?e.value:e,o={target:{name:i,value:a}};t.onChange(o)},placeholder:r,isDisabled:l,options:o,className:b?"is-invalid":""})),Object(c.jsx)(_.a,{name:i,component:R.a})]})}U.defaultProps={label:"",placeholder:"",disabled:!1,options:[]};var S=U,q=a(19),A=a.n(q),L=a(25);a(193);G.defaultProps={name:"",imageUrl:"",onImageUrlChange:null,onRandomButtonBlur:null};var T=function(){var e=Math.trunc(2e3*Math.random());return"https://picsum.photos/id/".concat(e,"/300/300")};function G(e){var t=e.name,a=e.imageUrl,o=e.onImageUrlChange,n=e.onRandomButtonBlur,r=function(){var e=Object(L.a)(A.a.mark((function e(){var t;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o&&(t=T(),o(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"random-photo",children:[Object(c.jsx)("div",{className:"random-photo__button",children:Object(c.jsx)(u.a,{outline:!0,name:t,color:"primary",onBlur:n,onClick:r,children:"Random a photo"})}),Object(c.jsx)("div",{className:"random-photo__photo",children:a&&Object(c.jsx)("img",{src:a,alt:"Ooops ... not found. Please click random again!",onError:function(e){return e.target.src=r()}})})]})}var M=G;function z(e){var t=e.field,a=e.form,o=e.label,n=t.name,r=t.value,l=t.onBlur,i=a.errors,s=a.touched,d=i[n]&&s[n];return Object(c.jsxs)(N.a,{children:[o&&Object(c.jsx)(B.a,{for:n,children:o}),Object(c.jsx)(M,{name:n,imageUrl:r,onImageUrlChange:function(e){a.setFieldValue(n,e)},onRandomButtonBlur:l}),Object(c.jsx)("div",{className:d?"is-invalid":""}),Object(c.jsx)(_.a,{name:n,component:R.a})]})}z.defaultProps={label:""};var V=z,F=a(297);function J(e){var t=e.initialValues,a=e.isAddMode,o=F.b().shape({title:F.c().required("This field is required."),categoryId:F.a().required("This field is required.").nullable(),photo:F.c().when("categoryId",{is:1,then:F.c().required("This field is required."),otherwise:F.c().notRequired()})});return Object(c.jsx)(_.d,{initialValues:t,validationSchema:o,onSubmit:e.onSubmit,children:function(e){e.values,e.errors,e.touched;var t=e.isSubmitting;return Object(c.jsxs)(_.c,{children:[Object(c.jsx)(_.b,{name:"title",component:w,label:"Title",placeholder:"Eg: Wow nature ..."}),Object(c.jsx)(_.b,{name:"categoryId",component:S,label:"Category",placeholder:"What's your photo category?",options:k}),Object(c.jsx)(_.b,{name:"photo",component:V,label:"Photo"}),Object(c.jsx)(N.a,{children:Object(c.jsxs)(u.a,{type:"submit",color:a?"primary":"success",children:[t&&Object(c.jsx)(P.a,{size:"sm"}),a?"Add to album":"Update your photo"]})})]})}})}J.defaultProps={onSubmit:null};var K=J;a(296);var W=function(e){var t=Object(v.b)(),a=Object(o.g)(),n=Object(o.h)().photoId,r=!n,i=Object(v.c)((function(e){return e.photos.list.find((function(e){return e.id===+n}))}));console.log({photoId:n,editedPhoto:i});var s=r?{title:"",categoryId:null,photo:""}:i;return Object(c.jsxs)("div",{className:"photo-edit",children:[Object(c.jsx)(l,{title:"Pick your amazing photo \ud83d\ude0e"}),Object(c.jsx)("div",{className:"photo-edit__form",children:Object(c.jsx)(K,{isAddMode:r,initialValues:s,onSubmit:function(e){return new Promise((function(o){setTimeout((function(){if(r){var n=Object(C.a)(Object(C.a)({},e),{},{id:(i=1e4,s=99999,i+Math.trunc(Math.random()*(s-i)))}),c=Object(O.a)(n);console.log({action:c}),t(c)}else{var l=Object(O.f)(e);t(l)}var i,s;a.push("/photos"),o(!0)}),2e3)}))}})})]})};t.default=function(e){var t=Object(o.i)();return Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:t.url,component:y}),Object(c.jsx)(o.b,{path:"".concat(t.url,"/add"),component:W}),Object(c.jsx)(o.b,{path:"".concat(t.url,"/:photoId"),component:W}),Object(c.jsx)(o.b,{component:n.a})]})}}}]);
//# sourceMappingURL=4.8e002b01.chunk.js.map
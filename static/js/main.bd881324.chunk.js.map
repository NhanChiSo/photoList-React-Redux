{"version":3,"sources":["api/axiosClient.js","api/productApi.js","api/userApi.js","app/userSlice.js","features/Auth/pages/SignIn/index.jsx","components/Header/index.jsx","App.js","reportWebVitals.js","app/store.js","index.js","features/Photo/photoSlice.js","components/NotFound/index.jsx"],"names":["axiosClient","axios","create","baseURL","process","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","a","config","currentUser","firebase","auth","getIdToken","token","Authorization","response","data","error","productApi","getAll","get","id","url","userApi","getMe","Promise","resolve","reject","setTimeout","uid","name","displayName","email","photoUrl","photoURL","require","createSlice","createAsyncThunk","thunkAPI","userReducer","initialState","current","loading","reducers","extraReducers","pending","state","rejected","action","fulfilled","payload","reducer","uiConfig","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","SignIn","className","style","marginTop","firebaseAuth","Header","Container","Row","Col","xs","to","exact","activeClassName","Photo","React","lazy","initializeApp","apiKey","authDomain","App","useState","setProductList","dispatch","useDispatch","useEffect","_page","_limit","console","log","fetchProductList","unregisterAuthObserver","onAuthStateChanged","user","actionResult","unwrapResult","fallback","basename","from","path","component","NotFound","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","store","configureStore","photos","photoReducer","ReactDOM","render","StrictMode","document","getElementById","photo","list","categoryId","title","searchText","category","filter","addPhoto","push","removePhoto","removePhotoId","updatePhoto","newPhoto","photoIndex","findIndex","searchPhoto","toLowerCase","includes","searchCategory","actions"],"mappings":"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","file":"static/js/main.bd881324.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport firebase from \"firebase\";\r\n// Set up default config for http requests here\r\n\r\n// const getFirebaseToken = async () => {\r\n//   const currentUser = firebase.auth().currentUser;\r\n//   if (currentUser) return currentUser.getIdToken();\r\n\r\n//   // Not logged in\r\n//   const hasRememberedAccount = localStorage.getItem(\r\n//     \"firebaseui::rememberedAccounts\"\r\n//   );\r\n//   if (!hasRememberedAccount) return null;\r\n\r\n//   // Logged in but current user is not fetched --> wait (10s)\r\n//   return new Promise((resolve, reject) => {\r\n//     const waitTimer = setTimeout(() => {\r\n//       reject(null);\r\n//       console.log(\"Reject timeout\");\r\n//     }, 10000);\r\n\r\n//     const unregisterAuthObserver = firebase\r\n//       .auth()\r\n//       .onAuthStateChanged(async (user) => {\r\n//         if (!user) {\r\n//           reject(null);\r\n//         }\r\n\r\n//         const token = await user.getIdToken();\r\n//         console.log(\"[AXIOS] Logged in user token: \", token);\r\n//         resolve(token);\r\n\r\n//         unregisterAuthObserver();\r\n//         clearTimeout(waitTimer);\r\n//       });\r\n//   });\r\n// };\r\n\r\n// Please have a look at here `https://github.com/axios/axios#request-config` for the full list of configs\r\n\r\nconst axiosClient = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL,\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n  },\r\n  paramsSerializer: (params) => queryString.stringify(params),\r\n});\r\n\r\naxiosClient.interceptors.request.use(async (config) => {\r\n  // Handle token here ...\r\n  const currentUser = firebase.auth().currentUser;\r\n  if (currentUser) {\r\n    const token = await currentUser.getIdToken();\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\naxiosClient.interceptors.response.use(\r\n  (response) => {\r\n    if (response && response.data) {\r\n      return response.data;\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Handle errors\r\n    throw error;\r\n  }\r\n);\r\nexport default axiosClient;\r\n","import axiosClient from \"./axiosClient\";\r\n\r\nconst productApi = {\r\n  getAll: (params) => {\r\n    const url = \"/products\";\r\n    return axiosClient.get(url, { params });\r\n  },\r\n  get: (id) => {\r\n    const url = `/products/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n};\r\n\r\nexport default productApi;\r\n","import firebase from \"firebase\";\r\n\r\nconst userApi = {\r\n  getMe: () => {\r\n    return new Promise((resolve, reject) => {\r\n      setTimeout(() => {\r\n        const currentUser = firebase.auth().currentUser;\r\n        resolve({\r\n          id: currentUser.uid,\r\n          name: currentUser.displayName,\r\n          email: currentUser.email,\r\n          photoUrl: currentUser.photoURL,\r\n        });\r\n      }, 500);\r\n    });\r\n  },\r\n};\r\n\r\nexport default userApi;\r\n","import userApi from \"api/userApi\";\r\n\r\nconst { createSlice, createAsyncThunk } = require(\"@reduxjs/toolkit\");\r\n\r\nexport const getMe = createAsyncThunk(\r\n  \"user/getMe\",\r\n  async (params, thunkAPI) => {\r\n    const currentUser = await userApi.getMe();\r\n    return currentUser;\r\n  }\r\n);\r\n\r\nconst userSlice = createSlice({\r\n  name: \"user\",\r\n  initialState: {\r\n    current: {},\r\n    loading: false,\r\n    error: \"\",\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getMe.pending]: (state) => {\r\n      state.loading = true;\r\n    },\r\n    [getMe.rejected]: (state, action) => {\r\n      state.loading = false;\r\n      state.error = action.error;\r\n    },\r\n    [getMe.fulfilled]: (state, action) => {\r\n      state.loading = false;\r\n      state.current = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nconst { reducer: userReducer } = userSlice;\r\nexport default userReducer;\r\n","import React from \"react\";\r\nimport firebase from \"firebase\";\r\nimport { StyledFirebaseAuth } from \"react-firebaseui\";\r\n\r\n// Configure FirebaseUI.\r\nconst uiConfig = {\r\n  // Popup signin flow rather than redirect flow.\r\n  signInFlow: \"popup\",\r\n\r\n  // Redirect to /... after sign in is successful.\r\n  // Alternatively you can provide a callbacks.signInSuccess function.\r\n  signInSuccessUrl: \"/photos\",\r\n\r\n  // We will display Google and Facebook as auth providers.\r\n  signInOptions: [\r\n    firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n    // firebase.auth.FacebookAuthProvider.PROVIDER_ID,\r\n  ],\r\n};\r\n\r\nfunction SignIn() {\r\n  return (\r\n    <div>\r\n      <div className=\"text-center mb-5\" style={{marginTop: '150px'}}>\r\n        <h3>Login with google accounts</h3>\r\n      </div>\r\n      <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n","import React from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { Col, Container, Row } from \"reactstrap\";\r\nimport \"./Header.scss\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <Container>\r\n        <Row className=\"justify-content-between\">\r\n          <Col xs=\"auto\">\r\n            {/* target=\"_blank\" chuyển link sang tab mới\r\n                cần có rel=\"noopener noreferrer\" theo cùng */}\r\n            <Link\r\n              className=\"header__link header__title\"\r\n              to=\"/photos\"\r\n            >\r\n              Photo List\r\n            </Link>\r\n          </Col>\r\n          <Col xs=\"auto\">\r\n            {/* NavLink dùng chuyển hướng trong app, \r\n                a chuyển hướng web khác.\r\n                activeClass sẽ dùng khi link đc active */}\r\n            <NavLink\r\n              exact\r\n              className=\"header__link\"\r\n              to=\"/sign-in\"\r\n              activeClassName=\"header__link--active\"\r\n            >\r\n              Sign Out\r\n            </NavLink>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { unwrapResult } from \"@reduxjs/toolkit\";\nimport productApi from \"api/productApi\";\nimport { getMe } from \"app/userSlice\";\nimport SignIn from \"features/Auth/pages/SignIn\";\nimport firebase from \"firebase\";\nimport React, { Suspense, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport \"./App.scss\";\nimport Header from \"./components/Header\";\nimport NotFound from \"./components/NotFound\";\n\n// Lazy load: Ko load ngay, vào đường dẫn /photos mới load\nconst Photo = React.lazy(() => import(\"./features/Photo\"));\n\n// Configure Firebase.\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_API,\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  // ...\n};\nfirebase.initializeApp(config);\n\nfunction App() {\n  const [productList, setProductList] = useState([]);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const fetchProductList = async () => {\n      try {\n        const params = {\n          _page: 1,\n          _limit: 10,\n        };\n        const response = await productApi.getAll(params);\n        setProductList(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchProductList();\n  }, []);\n\n  //Handle firebase auth changed\n  useEffect(() => {\n    const unregisterAuthObserver = firebase\n      .auth()\n      .onAuthStateChanged(async (user) => {\n        if (!user) {\n          //logs out\n          console.log(\"Log out!\");\n          return;\n        }\n\n        // Get me when signed in\n        const action = getMe();\n        const actionResult = await dispatch(action);\n        const currentUser = unwrapResult(actionResult);\n        console.log(currentUser);\n\n        // signed in\n        // const token = await user.getIdToken();\n        // console.log(token);\n      });\n    return () => unregisterAuthObserver();\n    // Make sure we un-register Firebase observers when the component unmounts.\n  }, []);\n\n  return (\n    <div className=\"photo-app\">\n      {/* Suspense sẽ render ra trong lúc load lazy (bắt buộc phải có cùng lazy) */}\n      <Suspense fallback={<div>Loading...</div>}>\n        <BrowserRouter basename=\"/photoList-React-Redux\">\n          <Header />\n\n          <Switch>\n            {/* Ko có / nên nếu vào / sẽ đẩy sang /photos */}\n            <Redirect exact from=\"/\" to=\"/photos\" />\n\n            <Route path=\"/photos\" component={Photo} />\n            <Route path=\"/sign-in\" component={SignIn} />\n            <Route component={NotFound} />\n          </Switch>\n        </BrowserRouter>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import photoReducer from \"features/Photo/photoSlice\";\r\nimport userReducer from \"./userSlice\";\r\n\r\nconst { configureStore } = require(\"@reduxjs/toolkit\");\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    photos: photoReducer,\r\n    user: userReducer,\r\n  },\r\n});\r\n\r\nexport default store;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { Provider } from \"react-redux\";\nimport store from \"app/store\";\n\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n    ,\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const { createSlice } = require(\"@reduxjs/toolkit\");\r\n\r\nconst initialPhotos = {\r\n  list: [\r\n    {\r\n      id: 91176,\r\n      categoryId: 2,\r\n      photo: \"https://picsum.photos/id/532/300/300\",\r\n      title:\r\n        \"Enim laboris dolore consectetur et fugiat do amet eiusmod anim proident do culpa irure consectetur.\",\r\n    },\r\n    {\r\n      id: 82605,\r\n      categoryId: 1,\r\n      photo: \"https://picsum.photos/id/43/300/300\",\r\n      title: \"Ad officia magna veniam sunt.\",\r\n    },\r\n    {\r\n      id: 74760,\r\n      categoryId: 3,\r\n      photo: \"https://picsum.photos/id/722/300/300\",\r\n      title:\r\n        \"Minim anim in sunt esse nisi sit magna consequat in sit laboris adipisicing.\",\r\n    },\r\n    {\r\n      id: 39588,\r\n      categoryId: 5,\r\n      photo: \"https://picsum.photos/id/294/300/300\",\r\n      title: \"Deserunt in tempor est id consectetur cupidatat.\",\r\n    },\r\n    {\r\n      id: 72133,\r\n      categoryId: 4,\r\n      photo: \"https://picsum.photos/id/229/300/300\",\r\n      title:\r\n        \"Labore culpa velit sunt sit anim ad do veniam do proident sunt et nisi mollit.\",\r\n    },\r\n    {\r\n      id: 95333,\r\n      categoryId: 1,\r\n      photo: \"https://picsum.photos/id/862/300/300\",\r\n      title:\r\n        \"Fugiat fugiat voluptate tempor minim ipsum nisi culpa magna officia ea deserunt tempor.\",\r\n    },\r\n    {\r\n      id: 62419,\r\n      categoryId: 3,\r\n      photo: \"https://picsum.photos/id/515/300/300\",\r\n      title:\r\n        \"Excepteur nisi aliquip ex aliqua consectetur id laboris cillum elit dolor dolor anim sint.\",\r\n    },\r\n    {\r\n      id: 12569,\r\n      categoryId: 5,\r\n      photo: \"https://picsum.photos/id/730/300/300\",\r\n      title:\r\n        \"Occaecat exercitation Lorem cupidatat adipisicing elit duis consequat esse et tempor eu enim cupidatat.\",\r\n    },\r\n    {\r\n      id: 47434,\r\n      categoryId: 3,\r\n      photo: \"https://picsum.photos/id/287/300/300\",\r\n      title: \"Veniam officia est nulla proident labore.\",\r\n    },\r\n    {\r\n      id: 52685,\r\n      categoryId: 3,\r\n      photo: \"https://picsum.photos/id/859/300/300\",\r\n      title:\r\n        \"Ut incididunt do magna culpa consectetur id deserunt et enim elit quis.\",\r\n    },\r\n    {\r\n      id: 69928,\r\n      categoryId: 5,\r\n      photo: \"https://picsum.photos/id/110/300/300\",\r\n      title:\r\n        \"Nisi velit fugiat voluptate fugiat magna officia qui fugiat ad non.\",\r\n    },\r\n    {\r\n      id: 86160,\r\n      categoryId: 5,\r\n      photo: \"https://picsum.photos/id/649/300/300\",\r\n      title: \"Id ex enim non dolore reprehenderit eu ullamco.\",\r\n    },\r\n  ],\r\n  searchText: \"\",\r\n  category: \"0\",\r\n  filter: [],\r\n};\r\n\r\nconst photo = createSlice({\r\n  name: \"photos\",\r\n  initialState: initialPhotos,\r\n  reducers: {\r\n    addPhoto(state, action) {\r\n      state.list.push(action.payload);\r\n    },\r\n\r\n    removePhoto: (state, action) => {\r\n      const removePhotoId = action.payload;\r\n\r\n      // remove khi đã lọc qua search\r\n      if (state.searchText || state.category) {\r\n        return {\r\n          ...state,\r\n          list: state.list.filter((photo) => photo.id !== removePhotoId),\r\n          filter: state.filter.filter((photo) => photo.id !== removePhotoId),\r\n        };\r\n      }\r\n\r\n      // remove bình thường\r\n      return {\r\n        ...state,\r\n        list: state.list.filter((photo) => photo.id !== removePhotoId),\r\n      };\r\n    },\r\n\r\n    updatePhoto: (state, action) => {\r\n      const newPhoto = action.payload;\r\n\r\n      //update khi đã lọc trước\r\n      if (state.searchText || state.category) {\r\n        let photoIndex = state.filter.findIndex(\r\n          (photo) => photo.id === newPhoto.id\r\n        );\r\n        if (photoIndex >= 0) {\r\n          state.filter[photoIndex] = newPhoto;\r\n        }\r\n      }\r\n\r\n      const photoIndex = state.list.findIndex(\r\n        (photo) => photo.id === newPhoto.id\r\n      );\r\n\r\n      if (photoIndex >= 0) {\r\n        state.list[photoIndex] = newPhoto;\r\n      }\r\n    },\r\n\r\n    searchPhoto: (state, action) => {\r\n      const searchText = action.payload.toLowerCase();\r\n      const filter = state.list.filter((photo) =>\r\n        photo.title.toLowerCase().includes(searchText)\r\n      );\r\n      return { ...state, searchText: searchText, filter: filter };\r\n    },\r\n\r\n    searchCategory: (state, action) => {\r\n      const filter = state.list.filter((photo) => {\r\n        return photo.categoryId == action.payload;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        searchText: \"\",\r\n        category: action.payload,\r\n        filter: filter,\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nconst { actions, reducer } = photo;\r\nexport const {\r\n  addPhoto,\r\n  removePhoto,\r\n  updatePhoto,\r\n  searchPhoto,\r\n  searchCategory,\r\n} = actions;\r\nexport default reducer;\r\n","import React from 'react'\r\n\r\nfunction NotFound() {\r\n    return (\r\n        <div>\r\n            Not Found\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound\r\n"],"sourceRoot":""}
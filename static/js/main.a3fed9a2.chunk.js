(this["webpackJsonpredux-beginner"]=this["webpackJsonpredux-beginner"]||[]).push([[0],{115:function(t,e,n){},116:function(t,e,n){},119:function(t,e,n){"use strict";n.r(e);var i=n(2),r=n.n(i),a=n(31),o=n.n(a),c=(n(68),n(19)),s=n.n(c),u=n(25),d=n(45),p=n(30),l=n(59),h=n.n(l),f=n(60),m=n.n(f),b=n(21),g=h.a.create({baseURL:"https://js-post-api.herokuapp.com/api",headers:{"content-type":"application/json"},paramsSerializer:function(t){return m.a.stringify(t)}});g.interceptors.request.use(function(){var t=Object(u.a)(s.a.mark((function t(e){var n,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=b.a.auth().currentUser)){t.next=6;break}return t.next=4,n.getIdToken();case 4:(i=t.sent)&&(e.headers.Authorization="Bearer ".concat(i));case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g.interceptors.response.use((function(t){return t&&t.data?t.data:t}),(function(t){throw t}));var j,x=g,O={getAll:function(t){return x.get("/products",{params:t})},get:function(t){var e="/products/".concat(t);return x.get(e)}},v=n(27),y={getMe:function(){return new Promise((function(t,e){setTimeout((function(){var e=b.a.auth().currentUser;t({id:e.uid,name:e.displayName,email:e.email,photoUrl:e.photoURL})}),500)}))}},I=n(30),w=I.createSlice,k=(0,I.createAsyncThunk)("user/getMe",function(){var t=Object(u.a)(s.a.mark((function t(e,n){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getMe();case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),P=w({name:"user",initialState:{current:{},loading:!1,error:""},reducers:{},extraReducers:(j={},Object(v.a)(j,k.pending,(function(t){t.loading=!0})),Object(v.a)(j,k.rejected,(function(t,e){t.loading=!1,t.error=e.error})),Object(v.a)(j,k.fulfilled,(function(t,e){t.loading=!1,t.current=e.payload})),j)}).reducer,S=n(62),A=n(6),C={signInFlow:"popup",signInSuccessUrl:"/photos",signInOptions:[b.a.auth.GoogleAuthProvider.PROVIDER_ID]};var L=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("div",{className:"text-center mb-5",style:{marginTop:"150px"},children:Object(A.jsx)("h3",{children:"Login with google accounts"})}),Object(A.jsx)(S.StyledFirebaseAuth,{uiConfig:C,firebaseAuth:b.a.auth()})]})},T=n(32),_=n(29),N=n(11),F=(n(115),n(121)),q=n(122),E=n(123);n(116);var R=function(){return Object(A.jsx)("header",{className:"header",children:Object(A.jsx)(F.a,{children:Object(A.jsxs)(q.a,{className:"justify-content-between",children:[Object(A.jsx)(E.a,{xs:"auto",children:Object(A.jsx)(_.b,{className:"header__link header__title",to:"/photos",children:"Photo List"})}),Object(A.jsx)(E.a,{xs:"auto",children:Object(A.jsx)(_.c,{exact:!0,className:"header__link",to:"/sign-in",activeClassName:"header__link--active",children:"Sign Out"})})]})})})},U=n(58),M=r.a.lazy((function(){return Promise.all([n.e(2),n.e(4)]).then(n.bind(null,306))}));b.a.initializeApp({apiKey:"AIzaSyCtQ3RJniHHt9e7WliuIHBgn-AMEjgCltI",authDomain:"photo-app-e65dc.firebaseapp.com"});var z=function(){var t=Object(i.useState)([]),e=Object(d.a)(t,2),n=(e[0],e[1]),r=Object(T.b)();return Object(i.useEffect)((function(){(function(){var t=Object(u.a)(s.a.mark((function t(){var e,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={_page:1,_limit:10},t.next=4,O.getAll(e);case 4:i=t.sent,n(i.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){var t=b.a.auth().onAuthStateChanged(function(){var t=Object(u.a)(s.a.mark((function t(e){var n,i,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return console.log("Log out!"),t.abrupt("return");case 3:return n=k(),t.next=6,r(n);case 6:i=t.sent,a=Object(p.unwrapResult)(i),console.log(a);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[]),Object(A.jsx)("div",{className:"photo-app",children:Object(A.jsx)(i.Suspense,{fallback:Object(A.jsx)("div",{children:"Loading..."}),children:Object(A.jsxs)(_.a,{children:[Object(A.jsx)(R,{}),Object(A.jsxs)(N.d,{children:[Object(A.jsx)(N.a,{exact:!0,from:"/",to:"/photos"}),Object(A.jsx)(N.b,{path:"/photos",component:M}),Object(A.jsx)(N.b,{path:"/sign-in",component:L}),Object(A.jsx)(N.b,{component:U.a})]})]})})})},D=function(t){t&&t instanceof Function&&n.e(5).then(n.bind(null,305)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,a=e.getLCP,o=e.getTTFB;n(t),i(t),r(t),a(t),o(t)}))},B=n(44),H=(0,n(30).configureStore)({reducer:{photos:B.b,user:P}});n(118);o.a.render(Object(A.jsxs)(T.a,{store:H,children:[Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(z,{})}),","]}),document.getElementById("root")),D()},44:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return p}));var i=n(22),r=(0,n(30).createSlice)({name:"photos",initialState:{list:[{id:91176,categoryId:2,photo:"https://picsum.photos/id/532/300/300",title:"Enim laboris dolore consectetur et fugiat do amet eiusmod anim proident do culpa irure consectetur."},{id:82605,categoryId:1,photo:"https://picsum.photos/id/43/300/300",title:"Ad officia magna veniam sunt."},{id:74760,categoryId:3,photo:"https://picsum.photos/id/722/300/300",title:"Minim anim in sunt esse nisi sit magna consequat in sit laboris adipisicing."},{id:39588,categoryId:5,photo:"https://picsum.photos/id/294/300/300",title:"Deserunt in tempor est id consectetur cupidatat."},{id:72133,categoryId:4,photo:"https://picsum.photos/id/229/300/300",title:"Labore culpa velit sunt sit anim ad do veniam do proident sunt et nisi mollit."},{id:95333,categoryId:1,photo:"https://picsum.photos/id/862/300/300",title:"Fugiat fugiat voluptate tempor minim ipsum nisi culpa magna officia ea deserunt tempor."},{id:62419,categoryId:3,photo:"https://picsum.photos/id/515/300/300",title:"Excepteur nisi aliquip ex aliqua consectetur id laboris cillum elit dolor dolor anim sint."},{id:12569,categoryId:5,photo:"https://picsum.photos/id/730/300/300",title:"Occaecat exercitation Lorem cupidatat adipisicing elit duis consequat esse et tempor eu enim cupidatat."},{id:47434,categoryId:3,photo:"https://picsum.photos/id/287/300/300",title:"Veniam officia est nulla proident labore."},{id:52685,categoryId:3,photo:"https://picsum.photos/id/859/300/300",title:"Ut incididunt do magna culpa consectetur id deserunt et enim elit quis."},{id:69928,categoryId:5,photo:"https://picsum.photos/id/110/300/300",title:"Nisi velit fugiat voluptate fugiat magna officia qui fugiat ad non."},{id:86160,categoryId:5,photo:"https://picsum.photos/id/649/300/300",title:"Id ex enim non dolore reprehenderit eu ullamco."}],searchText:"",category:"0",filter:[]},reducers:{addPhoto:function(t,e){t.list.push(e.payload)},removePhoto:function(t,e){var n=e.payload;return t.searchText||t.category?Object(i.a)(Object(i.a)({},t),{},{list:t.list.filter((function(t){return t.id!==n})),filter:t.filter.filter((function(t){return t.id!==n}))}):Object(i.a)(Object(i.a)({},t),{},{list:t.list.filter((function(t){return t.id!==n}))})},updatePhoto:function(t,e){var n=e.payload;if(t.searchText||t.category){var i=t.filter.findIndex((function(t){return t.id===n.id}));i>=0&&(t.filter[i]=n)}var r=t.list.findIndex((function(t){return t.id===n.id}));r>=0&&(t.list[r]=n)},searchPhoto:function(t,e){var n=e.payload.toLowerCase(),r=t.list.filter((function(t){return t.title.toLowerCase().includes(n)}));return Object(i.a)(Object(i.a)({},t),{},{searchText:n,filter:r})},searchCategory:function(t,e){var n=t.list.filter((function(t){return t.categoryId==e.payload}));return Object(i.a)(Object(i.a)({},t),{},{searchText:"",category:e.payload,filter:n})}}}),a=r.actions,o=r.reducer,c=a.addPhoto,s=a.removePhoto,u=a.updatePhoto,d=a.searchPhoto,p=a.searchCategory;e.b=o},58:function(t,e,n){"use strict";n(2);var i=n(6);e.a=function(){return Object(i.jsx)("div",{children:"Not Found"})}},68:function(t,e,n){}},[[119,1,3]]]);
//# sourceMappingURL=main.a3fed9a2.chunk.js.map